@model Sklep_MJ.ViewModels.CartViewModel
@using Sklep_MJ.Infrastructure

@{
    ViewBag.Title = "Koszyk";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div id="ListaKategoriZawartosc">
    @Html.Action("CategoriesMenu", "Courses")
    <div id="KategorieListPrawaSekcja">
        <div id="Breadcrumb">
            <img src="../Content/Images/dommaly.png" />
            <a href="link">
                @Html.MvcSiteMap().SiteMapPath()
            </a>
        </div>

        <section class="SekcjaKoszyk">
            <div class="SekcjaHeader" style="margin-bottom: 0px;">
                <h1>Twój koszyk</h1>
            </div>

            <table id="koszykTabela">
                @foreach (var position in Model.OrderPositions)
                {
                    <tr id="koszyk-wiersz-@position.course.CourseId">
                        <td>
                            <a href="@Url.Action("Details","Courses", new { id = position.course.CourseId },null)">
                                <img src="@Url.Content("~/Content/Courses/"+position.course.FileIcon)" />
                            </a>
                        </td>
                        <td>
                            <a href="@Url.Action("Details","Courses", new { id = position.CourseId },null)">
                                @position.course.Title
                            </a>
                        </td>
                        <td>Ilość: <span id="koszyk-ilosc-@position.course.CourseId">@position.Count</span></td>
                        <td>@string.Format("{0:0.##}", position.Price) zł</td>
                        <td><a class="usunKurs" data-id="@position.course.CourseId" href="#">Usuń</a></td>
                    </tr>
                }

                <tr id="koszyk-empty-message" @if (Model.OrderPositions != null && Model.OrderPositions.Count > 0) { <text> class="hidden" </text> }>
                    <td>Twój koszyk jest pusty</td>
                </tr>

            </table>

            <div id="CenaCalkowita" style="">
                Razem: <span id="calkowita-cena">@string.Format("{0:0.##}", Model.TotalPrice)</span> zł
            </div>

            <div class="SekcjaPrzyciski">
                <a class="PrzyciskLink" href="link">Kontynuuj zakupy</a>
                @if (Model.TotalPrice > 0)
                {
                    <a class="PrzyciskLink" id="koszyk-button-zaplac" href="@Url.Action("Pay")">Zapłać</a>
                }
            </div>
        </section>
    </div>
</div>

